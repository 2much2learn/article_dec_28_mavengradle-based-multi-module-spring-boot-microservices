name: Pipeline Final
on: push

jobs:
  build: 
    name: Build
    runs-on: ubuntu-latest
    steps:
        - name: Checkout
          uses: actions/checkout@v4.0.0
        - name: Set up JDK 11
          uses: actions/setup-java@v3
          with:
              java-version: '11'
              distribution: 'zulu'

        - name: Build with Gradle
          run: |
              chmod +x gradlew
              ./gradlew clean :service-a:build
              sonar-scanner  # Ejecuta el an√°lisis de SonarCloud
          env:
              SONAR_TOKEN: ${{ secrets.SONAR_TOKEN }}  # Usa la variable de entorno del token de acceso
