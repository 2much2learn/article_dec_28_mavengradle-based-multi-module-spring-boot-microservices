name: Pipeline Final
on: push

jobs:
  build: 
    name: Build
    runs-on: ubuntu-latest
    steps:
        - name: Checkout
          uses: actions/checkout@v4.0.0
        - name: Set up JDK 11
          uses: actions/setup-java@v3
          with:
              java-version: '11'
              distribution: 'zulu'

        - name: Build with Gradle
          run: |
              chmod +x gradlew
              ./gradlew clean :service-a:build
      
        - name: SonarCloud Pkg
          uses: actions/cache@v3
          with:
            path: ~/.sonar/cache
            key: ${{ runner.os }}-sonar
            restore-keys: ${{ runner.os }}-sonar
